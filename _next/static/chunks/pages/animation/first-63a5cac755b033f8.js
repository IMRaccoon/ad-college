(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[528],{1610:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/animation/first",function(){return t(3051)}])},3051:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return s}});var r=t(5893),o=t(4316),i=t.n(o),a=t(7294);function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(){var e=(0,a.useRef)(null);return(0,r.jsx)("main",{ref:e,className:i().container,children:(0,r.jsx)("div",{className:i().wrapperImage,children:(0,r.jsx)(c,{className:i().erase})})})}var c=function(e){var n=(0,a.useRef)(null),t=(0,a.useState)(!1),o=t[0],i=t[1],s=(0,a.useState)(null),c=s[0],f=s[1],v=function(e){if(n.current){var t=n.current;return{x:e.pageX-t.offsetLeft,y:e.pageY-t.offsetTop}}},d=function(e){if(n.current){var t=n.current;return{x:e.changedTouches[0].pageX-t.offsetLeft,y:e.changedTouches[0].pageY-t.offsetTop}}},l=(0,a.useCallback)((function(e){var n=d(e);n&&(i(!0),f(n))}),[]),m=(0,a.useCallback)((function(e){var n=v(e);n&&(i(!0),f(n))}),[]),w=function(e,t){if(n.current){var r=n.current.getContext("2d");r&&(r.globalCompositeOperation="destination-out",r.lineJoin="round",r.lineWidth=window.innerWidth/5,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.closePath(),r.stroke())}},p=(0,a.useCallback)((function(e){if(e.preventDefault(),e.stopPropagation(),o){var n=v(e);c&&n&&(w(c,n),f(n))}}),[o,c]),h=(0,a.useCallback)((function(e){if(e.preventDefault(),e.stopPropagation(),o){var n=d(e);c&&n&&(w(c,n),f(n))}}),[o,c]),g=(0,a.useCallback)((function(){i(!1)}),[]),E=(0,a.useCallback)((function(e){1===e.buttons&&i(!0)}),[]);return(0,a.useEffect)((function(){var e=n.current;return e.addEventListener("mousedown",m),e.addEventListener("touchstart",l),e.addEventListener("mousemove",p),e.addEventListener("touchmove",h),e.addEventListener("mouseup",g),e.addEventListener("touchend",g),e.addEventListener("mouseover",E),function(){e.removeEventListener("mousedown",m),e.removeEventListener("touchstart",l),e.removeEventListener("mousemove",p),e.removeEventListener("touchmove",h),e.removeEventListener("mouseup",g),e.removeEventListener("touchend",g),e.removeEventListener("mouseover",E)}}),[m,l,p,h,g,E]),(0,a.useEffect)((function(){if(window){var e=n.current,t=e.getContext("2d"),r=new Image;r.src="/animation/howto.png";var o=new Image;o.src="/animation/wrapper.png",o.onload=function(){e.width=window.innerWidth,e.height=window.innerHeight,t.drawImage(o,0,0,window.innerWidth,window.innerHeight),t.drawImage(r,0,0,window.innerWidth,window.innerHeight)}}}),[]),(0,r.jsx)("canvas",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){u(e,n,t[n])}))}return e}({ref:n},e))}},4316:function(e){e.exports={container:"AnimationFirst_container__2wVE_",wrapperImage:"AnimationFirst_wrapperImage__2Rw-k",erase:"AnimationFirst_erase__2SDdw"}}},function(e){e.O(0,[774,888,179],(function(){return n=1610,e(e.s=n);var n}));var n=e.O();_N_E=n}]);